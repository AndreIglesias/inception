#******************************************************************************#
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: ciglesia <ciglesia@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2021/05/27 21:50:16 by ciglesia          #+#    #+#              #
#    Updated: 2021/06/05 00:36:16 by user             ###   ########.fr        #
#                                                                              #
#******************************************************************************#

DOCKER_COMPOSE = docker-compose
DOCKER_COMPOSE_FILE = ./srcs/docker-compose.yml

ECHO		=	/bin/echo -e
BLUE		=	 "\e[34m"
GREEN		=	 "\e[92m"
YELLOW		=	 "\e[33m"
E0M			=	 "\e[0m"

#************************ MAIN COMPOSITION *************************

all		:	up
			@$(ECHO) $(BLUE)
			@$(ECHO) "                    ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒"
			@$(ECHO) "              ▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒"
			@$(ECHO) "          ▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒"
			@$(ECHO) "        ░░░░░░  ░░░░░░      ░░░░░░░░    ░░░░░░░░░░░░▒▒"
			@$(ECHO) "      ▒▒░░░░░░░░      ░░░░░░        ░░░░  ░░░░░░    ░░▒▒"
			@$(ECHO) "    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░      ░░░░░░░░▒▒"
			@$(ECHO) "    ▒▒  ░░░░░░        ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒"
			@$(ECHO) "  ▒▒  ░░      ░░░░░░░░    ░░░░░░      ░░░░░░░░░░░░        ▒▒"
			@$(ECHO) "  ░░░░░░░░░░░░░░░░░░░░░░░░      ░░░░░░            ░░░░░░░░░░░░"
			@$(ECHO) "▒▒░░    ░░░░░░      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░    ░░░░▒▒"
			@$(ECHO) "▒▒  ░░░░      ░░░░░░        ░░░░░░░░        ░░░░░░  ░░░░    ░░"
			@$(ECHO) "▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░        ░░░░░░░░      ░░░░░░▒▒░░▒▒"
			@$(ECHO) "▒▒▒▒▒▒    ▒▒░░░░░░▒▒▒▒  ▒▒░░░░░░░░░░░░░░▒▒▒▒░░░░░░░░▒▒    ▒▒▒▒"
			@$(ECHO) "          ▒▒░░░░▒▒      ░░░░░░░░░░░░▒▒▒▒    ▒▒▒▒░░░░▒▒"
			@$(ECHO) "          ▒▒░░░░          ░░░░░░░░░░░░          ░░░░▒▒"
			@$(ECHO) "                            ▒▒▒▒▒▒  ▒▒"
			@$(ECHO) "                            ▒▒░░░░░░▒▒"
			@$(ECHO) "                            ▒▒  ░░░░▒▒"
			@$(ECHO) "                            ▒▒░░    ▒▒"
			@$(ECHO) "                            ▒▒░░░░  ▒▒"
			@$(ECHO) "                            ░░░░░░  ▒▒"
			@$(ECHO) "                            ▒▒    ░░▒▒"
			@$(ECHO) "                           "$(BLUE)" ▒▒░░░░░░▒▒"$(E0M)"                                                    ████"
			@$(ECHO) "                           "$(BLUE)" ▒▒░░░░░░▒▒"$(E0M)"                                                ██░░▓▓██"
			@$(ECHO) "                          ████▓▓████████                                            ██▒▒▒▒▒▒██"
			@$(ECHO) "                    ██████▒▒▒▒▒▒▒▒▒▒▒▒▒▒██████                    ██████        ████▒▒▒▒▒▒▒▒██"
			@$(ECHO) "                ████▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓░░                ██▓▓▓▓██░░▓▓██▒▒▓▓▒▒▒▒▒▒██"
			@$(ECHO) "            ████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒████            ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "          ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██            ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "        ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██            ████▒▒▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "      ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██              ████▓▓██▒▒▒▒▒▒▓▓"
			@$(ECHO) "    ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██                  ██▒▒▒▒▒▒▒▒██"
			@$(ECHO) "    ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██                ██▒▒▒▒▒▒▒▒██"
			@$(ECHO) "  ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓            ██▓▓▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "  ██▒▒▒▒▒▒▒▒▒▒  ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██          ██▒▒▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "██▒▒▒▒▒▒▒▒▒▒▒▒████▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██        ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██      ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██"
			@$(ECHO) "██▒▒"$(BLUE)"░░░░░░░░"$(E0M)"▒▒▒▒▒▒▒▒"$(BLUE)"░░░░░░░░"$(E0M)"▒▒▒▒▒▒▒▒"$(BLUE)"░░░░░░░░"$(E0M)"▒▒▒▒▒▒▒▒"$(BLUE)"░░░░░░░░"$(E0M)"▒▒▒▒▒▒▒▒"$(BLUE)"░░░░░░░░"$(E0M)"██▒▒▒▒▒▒"$(BLUE)"░░░░░░░░"$(E0M)"▒▒██"
			@$(ECHO)  $(BLUE)"░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"
			@$(ECHO) "░░░░░░▒▒░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"
			@$(ECHO) "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"
			@$(ECHO) "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"$(E0M)

up		:
			$(DOCKER_COMPOSE) -f $(DOCKER_COMPOSE_FILE) up -d --build

down	:
			$(DOCKER_COMPOSE) -f $(DOCKER_COMPOSE_FILE) down

start	:
			$(DOCKER_COMPOSE) -f $(DOCKER_COMPOSE_FILE) start

stop	:
			$(DOCKER_COMPOSE) -f $(DOCKER_COMPOSE_FILE) stop

ps		:
			$(DOCKER_COMPOSE) -f $(DOCKER_COMPOSE_FILE) ps

re		: all


.PHONY	: all up down start stop
